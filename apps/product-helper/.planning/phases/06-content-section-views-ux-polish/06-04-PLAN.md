---
phase: 06-content-section-views-ux-polish
plan: 04
type: execute
wave: 2
depends_on: ["06-01", "06-03"]
files_modified:
  - app/(dashboard)/projects/[id]/page.tsx
  - components/project/overview/quick-instructions.tsx
  - components/project/overview/project-context-card.tsx
  - components/project/overview/artifact-pipeline.tsx
autonomous: false
subsystem: ui

must_haves:
  truths:
    - "Overview page shows 2-step quick instructions: Chat with Product Helper, then Export to IDE"
    - "Overview page shows project context card with name, vision (stripped), project type, stage, role, budget"
    - "Overview page shows interactive artifact pipeline with status indicators per section"
    - "Artifact pipeline items are clickable and navigate to their explorer section"
    - "Compact connector preview cards show available IDE integrations"
    - "Empty state still works for new projects (intake + 0% completeness)"
  artifacts:
    - path: "components/project/overview/quick-instructions.tsx"
      provides: "2-step guide with connector card previews"
      min_lines: 40
    - path: "components/project/overview/project-context-card.tsx"
      provides: "Project metadata display card"
      min_lines: 40
    - path: "components/project/overview/artifact-pipeline.tsx"
      provides: "Interactive artifact pipeline with status"
      min_lines: 80
    - path: "app/(dashboard)/projects/[id]/page.tsx"
      provides: "Redesigned overview page composing all 3 new sections"
      contains: "QuickInstructions"
  key_links:
    - from: "app/(dashboard)/projects/[id]/page.tsx"
      to: "components/project/overview/quick-instructions.tsx"
      via: "React component import"
      pattern: "QuickInstructions"
    - from: "app/(dashboard)/projects/[id]/page.tsx"
      to: "components/project/overview/project-context-card.tsx"
      via: "React component import"
      pattern: "ProjectContextCard"
    - from: "components/project/overview/artifact-pipeline.tsx"
      to: "app/api/projects/[id]/explorer/route.ts"
      via: "SWR fetch for hasData flags"
      pattern: "useSWR.*explorer"
---

<objective>
Redesign the overview page (UX-03) with three new sections: (A) Quick Instructions showing 2-step workflow (Chat -> Export) with compact connector previews, (B) Project Context Card showing metadata (name, vision, type, stage, role, budget), and (C) Interactive Artifact Pipeline showing generation status per section. The OverviewEmptyState for new projects is preserved.

Purpose: The overview page is the first thing users see after selecting a project. Currently it shows a simple vision card and validation report. The redesign communicates value, surfaces project progress, and guides users toward the chat workflow.
Output: 3 new components composed into the redesigned overview page.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-content-section-views-ux-polish/06-RESEARCH.md

06-01 SUMMARY will be available (creates stripVisionMetadata utility).
06-03 SUMMARY will be available (creates /api/projects/[id]/explorer endpoint).

Current overview page: `app/(dashboard)/projects/[id]/page.tsx` (196 lines)
- Server component using `getProjectById()`
- Has OverviewEmptyState for new projects
- Has project card with vision statement
- Has ValidationReport (hidden in dev-only by 06-01)

Available data:
- `project.name`, `project.status`, `project.vision` (from getProjectById)
- `project.projectType`, `project.projectStage`, `project.userRole`, `project.budget` (nullable varchar(30))
- `project.projectData.completeness` (0-100)
- `project.validationScore`
- ExplorerData.hasData via `/api/projects/${id}/explorer` (from 06-03)

Connector data: `components/connections/integration-cards.tsx` has integration card patterns (Cursor, Claude Code, VS Code, Windsurf).
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create QuickInstructions and ProjectContextCard components</name>
  <files>
    components/project/overview/quick-instructions.tsx
    components/project/overview/project-context-card.tsx
  </files>
  <action>
    Create a `components/project/overview/` directory with 2 new components.

    **A. QuickInstructions (`quick-instructions.tsx`):**
    A simple 'use client' component that shows:
    1. A heading "How It Works" with `fontFamily: var(--font-heading)`
    2. Two numbered steps in a clean horizontal or stacked layout:
       - Step 1: MessageSquare icon + "Chat with Product Helper" + brief subtitle "Describe your product idea -- the AI builds your PRD as you talk"
       - Step 2: Plug icon + "Export to Your IDE" + brief subtitle "Connect to Cursor, Claude Code, or VS Code for instant implementation"
    3. Below the steps, show 4 compact connector logos/badges (Cursor, Claude Code, VS Code, Windsurf) as small pills with icons. Link these to `/projects/${projectId}/connections`.

    Props: `{ projectId: number }`

    **B. ProjectContextCard (`project-context-card.tsx`):**
    A server-compatible component that displays project metadata:
    1. Project name as heading
    2. Status badge (reuse existing `statusColors` and `statusLabels` pattern from current page.tsx)
    3. Vision statement (receives ALREADY STRIPPED vision text as prop -- stripping done in parent)
    4. Metadata grid showing project type, stage, role, budget as small labeled badges/chips
       - Only show metadata items that are non-null
       - Use the same chip/badge visual pattern from welcome-onboarding.tsx
    5. "Edit Settings" link to `/projects/${projectId}/settings`

    Props: `{ project: { id, name, status, vision, projectType, projectStage, userRole, budget, createdAt, createdByUser } }`

    **Styling conventions (MANDATORY):**
    - `style={{ color: 'var(--text-primary)' }}` for primary text
    - `style={{ color: 'var(--text-muted)' }}` for secondary text
    - `style={{ fontFamily: 'var(--font-heading)' }}` for section headings
    - `style={{ backgroundColor: 'var(--accent)', color: '#FFFFFF' }}` for CTA buttons
    - Use CSS variables for ALL theme colors, Tailwind for layout/spacing only
    - Use `Card`, `CardContent`, `CardHeader`, `Badge` from `@/components/ui/`
    - Use `Link` from `next/link` for navigation
  </action>
  <verify>
    - `npx tsc --noEmit` compiles without errors
    - Both files exist in `components/project/overview/`
    - QuickInstructions has 2-step layout and connector previews
    - ProjectContextCard renders metadata with null-safe checks
  </verify>
  <done>
    - QuickInstructions component created with 2-step guide + connector previews
    - ProjectContextCard component created with name, vision, metadata display
    - Both components use CSS variable styling conventions
  </done>
</task>

<task type="auto">
  <name>Task 2: Create ArtifactPipeline component</name>
  <files>
    components/project/overview/artifact-pipeline.tsx
  </files>
  <action>
    **ArtifactPipeline (`artifact-pipeline.tsx`):**
    A 'use client' component that displays the artifact generation pipeline:
    1. Two groups: "Product Requirements" (4 items) and "Backend" (4 items)
    2. Each item shows: appropriate Lucide icon + name + status indicator (checkmark green / circle muted)
    3. Each item is a Link to its section route (e.g., `/projects/${projectId}/requirements/architecture`)
    4. Fetch hasData flags from `/api/projects/${projectId}/explorer` via SWR
    5. Show a "generating" spinner state if the overall project completeness is changing (optional refinement)

    Section mapping (reuse from nav-config.ts pattern):
    ```
    Product Requirements:
      - Architecture Diagram -> hasArchitecture -> /requirements/architecture
      - Tech Stack -> hasTechStack -> /requirements/tech-stack
      - User Stories -> hasUserStories -> /requirements/user-stories
      - System Overview -> hasSystemOverview -> /requirements/system-overview
    Backend:
      - Database Schema -> hasSchema -> /backend/schema
      - API Specification -> hasApiSpec -> /backend/api-spec
      - Infrastructure -> hasInfrastructure -> /backend/infrastructure
      - Coding Guidelines -> hasGuidelines -> /backend/guidelines
    ```

    Props: `{ projectId: number }`

    **Styling conventions (MANDATORY):**
    - `style={{ color: 'var(--text-primary)' }}` for primary text
    - `style={{ color: 'var(--text-muted)' }}` for secondary text
    - `style={{ fontFamily: 'var(--font-heading)' }}` for section headings
    - Use `style={{ color: 'var(--success, #22c55e)' }}` for checkmark (NOT `text-green-500`)
    - Use `style={{ color: 'var(--text-muted)' }}` for empty circle
    - Use CSS variables for ALL theme colors, Tailwind for layout/spacing only
    - Use `Card`, `CardContent`, `CardHeader` from `@/components/ui/`
    - Use `Link` from `next/link` for navigation
  </action>
  <verify>
    - `npx tsc --noEmit` compiles without errors
    - File exists in `components/project/overview/`
    - ArtifactPipeline uses SWR to fetch explorer data and renders 8 items
    - Each item links to correct route
  </verify>
  <done>
    - ArtifactPipeline component created with 8 section items and live status
    - SWR fetches hasData flags from explorer API (created in 06-03)
    - Each item navigable to its section route
    - CSS variable styling conventions followed
  </done>
</task>

<task type="auto">
  <name>Task 3: Compose redesigned overview page</name>
  <files>
    app/(dashboard)/projects/[id]/page.tsx
  </files>
  <action>
    Rewrite the `ProjectDetail` component in `page.tsx` to compose the 3 new sections.

    **Keep unchanged:**
    - `ProjectPageProps` interface and `ProjectPage` export (outer component with Suspense)
    - `ProjectDetailSkeleton` loading state
    - `OverviewEmptyState` component and its conditional rendering for new projects
    - `statusColors` and `statusLabels` objects (used by ProjectContextCard)
    - `formatDate` helper
    - `process.env.NODE_ENV === 'development'` gate for ValidationReport (added by 06-01)

    **Replace the existing project card (lines 100-162) with:**

    ```tsx
    // For existing projects (not new):
    <div className="space-y-6">
      {/* Section A: Quick Instructions */}
      <QuickInstructions projectId={project.id} />

      {/* Section B: Project Context */}
      <ProjectContextCard
        project={{
          id: project.id,
          name: project.name,
          status: project.status,
          vision: stripVisionMetadata(project.vision),
          projectType: project.projectType,
          projectStage: project.projectStage,
          userRole: project.userRole,
          budget: project.budget,
          createdAt: project.createdAt,
          createdByUser: project.createdByUser,
        }}
      />

      {/* Section C: Artifact Pipeline */}
      <ArtifactPipeline projectId={project.id} />

      {/* Dev-only Validation */}
      {process.env.NODE_ENV === 'development' && (
        <ValidationReport ... />
      )}
    </div>
    ```

    **Imports to add:**
    ```typescript
    import { QuickInstructions } from '@/components/project/overview/quick-instructions';
    import { ProjectContextCard } from '@/components/project/overview/project-context-card';
    import { ArtifactPipeline } from '@/components/project/overview/artifact-pipeline';
    import { stripVisionMetadata } from '@/lib/utils/vision';
    ```

    **Imports to remove** (no longer needed after card removal):
    - Remove `Edit`, `TrendingUp`, `Calendar`, `User` from lucide-react import IF they are not used elsewhere in the file
    - Remove `DeleteProjectButton` import IF the delete action moves to settings (or keep it in ProjectContextCard)

    **Important:** Keep the `DeleteProjectButton` accessible somewhere -- either in ProjectContextCard's header or as a separate action. Users need to be able to delete projects. If it makes sense visually, add a small dropdown menu (kebab icon) in the ProjectContextCard header area with Edit and Delete actions.
  </action>
  <verify>
    - `npx tsc --noEmit` compiles without errors
    - `pnpm build` succeeds
    - Page renders 3 sections for existing projects
    - OverviewEmptyState still renders for new projects
    - ValidationReport still gated behind NODE_ENV check
    - `stripVisionMetadata` imported and used
    - No unused imports remaining
  </verify>
  <done>
    - Overview page redesigned with QuickInstructions, ProjectContextCard, ArtifactPipeline
    - stripVisionMetadata applied to vision display (UX-02 display-side complete)
    - Empty state preserved for new projects
    - Dev-only validation preserved
    - Delete functionality still accessible
    - Build passes
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Redesigned overview page with 3 sections: Quick Instructions (2-step guide + connector previews), Project Context Card (metadata), Artifact Pipeline (8 sections with status indicators)</what-built>
  <how-to-verify>
    1. Start dev server: `pnpm dev` (port 3001)
    2. Sign in and select a project with some extracted data
    3. Verify overview page shows:
       a. "How It Works" section with 2 steps (Chat -> Export)
       b. Compact connector badges linking to Connections page
       c. Project Context Card with name, status badge, vision text (no [Mode:...] metadata)
       d. Metadata chips for project type/stage/role/budget (if set during onboarding)
       e. Artifact Pipeline showing 8 items in 2 groups with status indicators
       f. Clicking pipeline items navigates to correct section
    4. Create a new project (intake, 0% completeness) -- verify empty state still shows
    5. Verify ValidationReport is NOT visible (unless you set NODE_ENV=development)
    6. Check mobile view (resize browser to <768px) -- verify layout adapts
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues with layout, data, or navigation</resume-signal>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` -- no TypeScript errors
2. `pnpm build` -- production build succeeds
3. Overview renders 3 distinct sections for existing projects
4. Empty state renders for new projects
5. Pipeline items link to correct routes
6. SWR fetches explorer data for live status
7. Human verification of visual layout and navigation
</verification>

<success_criteria>
- UX-03: Overview page has Quick Instructions, Project Context Card, Artifact Pipeline
- UX-02 (display-side): Vision text stripped of metadata on overview page
- Pipeline shows correct status per section from explorer API
- Navigation works from pipeline items to section views
- Responsive layout works on desktop and mobile
- No regressions to empty state or project deletion
</success_criteria>

<output>
After completion, create `.planning/phases/06-content-section-views-ux-polish/06-04-SUMMARY.md`
</output>
