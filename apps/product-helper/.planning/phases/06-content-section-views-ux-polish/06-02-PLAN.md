---
phase: 06-content-section-views-ux-polish
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: []
autonomous: true
subsystem: ui

must_haves:
  truths:
    - "User can navigate to Product Requirements and see PRD content in formatted accordion view"
    - "User can navigate to System Overview and see actors, boundaries, and entity data"
    - "User can navigate to Tech Stack and see technology recommendations with rationale"
    - "User can navigate to Infrastructure and see hosting, CI/CD, monitoring details"
    - "User can navigate to Architecture Diagram and see rendered Mermaid diagram"
  artifacts:
    - path: "components/projects/prd-overview.tsx"
      provides: "PRD overview with 5 accordion sections"
      min_lines: 200
    - path: "components/projects/sections/system-overview-section.tsx"
      provides: "System overview display"
      min_lines: 200
    - path: "components/projects/sections/tech-stack-section.tsx"
      provides: "Tech stack display"
      min_lines: 150
    - path: "components/projects/sections/infrastructure-section.tsx"
      provides: "Infrastructure display"
      min_lines: 150
    - path: "components/projects/sections/architecture-section.tsx"
      provides: "Architecture diagram display"
      min_lines: 150
  key_links:
    - from: "app/(dashboard)/projects/[id]/requirements/page.tsx"
      to: "components/projects/prd-overview.tsx"
      via: "React component import"
      pattern: "PRDOverview"
    - from: "components/project/nav-config.ts"
      to: "app/(dashboard)/projects/[id]/requirements/*/page.tsx"
      via: "href navigation"
      pattern: "/requirements/"
---

<objective>
Verify that all 5 content section views (EXPL-03 to EXPL-07) render correctly with real data and that navigation from the explorer tree works end-to-end. Phase 5-03 confirmed all 13 section components exist with consistent empty states. This plan validates they also render populated data correctly.

Purpose: These requirements may already be satisfied -- the research found all components and route pages exist. This plan confirms they work with actual extracted data, fixing any rendering issues discovered.
Output: Verification results documenting each view renders correctly. Bug fixes ONLY if rendering issues are found.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-content-section-views-ux-polish/06-RESEARCH.md

Existing components (from Phase 4-02 and earlier):
- `components/projects/prd-overview.tsx` (296 lines) -- 5 accordion sections
- `components/projects/sections/system-overview-section.tsx` (440 lines) -- actors, boundaries, entities
- `components/projects/sections/tech-stack-section.tsx` (290 lines) -- category cards with rationale
- `components/projects/sections/infrastructure-section.tsx` (~350 lines) -- hosting, CI/CD, monitoring
- `components/projects/sections/architecture-section.tsx` (~350 lines) -- entities + Mermaid diagram

Route pages (all exist):
- `app/(dashboard)/projects/[id]/requirements/page.tsx`
- `app/(dashboard)/projects/[id]/requirements/architecture/page.tsx`
- `app/(dashboard)/projects/[id]/requirements/tech-stack/page.tsx`
- `app/(dashboard)/projects/[id]/requirements/user-stories/page.tsx`
- `app/(dashboard)/projects/[id]/requirements/system-overview/page.tsx`
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify content section rendering with TypeScript compilation</name>
  <files>(none modified unless bugs found)</files>
  <action>
    Verify all 5 content section views compile and are properly wired:

    1. Run `npx tsc --noEmit` to confirm no TypeScript errors in section components
    2. Read each route page to verify it imports and renders the correct section component:
       - `/requirements/page.tsx` should render `PRDOverview`
       - `/requirements/architecture/page.tsx` should render `ArchitectureSection`
       - `/requirements/tech-stack/page.tsx` should render `TechStackSection`
       - `/requirements/user-stories/page.tsx` should render `UserStoriesSection`
       - `/requirements/system-overview/page.tsx` should render `SystemOverviewSection`
    3. Verify each section component:
       - Has proper data fetching (getProjectById or similar)
       - Handles null/empty data with empty state
       - Renders populated data with proper formatting
    4. Verify nav-config.ts tree items have correct `href` paths matching the actual route paths
    5. Check for any data shape mismatches between what the section components expect and what `getProjectById()` returns (especially JSONB fields)

    **If bugs are found:** Fix them inline and document what was fixed.
    **If no bugs found:** Document the verification pass.
  </action>
  <verify>
    - `npx tsc --noEmit` compiles without errors in section components
    - Each route page imports and renders the correct section component
    - Nav-config hrefs match actual route file paths
    - `pnpm build` succeeds
  </verify>
  <done>
    - All 5 content views verified: PRD Overview, System Overview, Tech Stack, Infrastructure, Architecture Diagram
    - Navigation from explorer tree to each view works (href paths match routes)
    - Data shapes compatible between DB -> route page -> section component
    - Any bugs found are fixed and documented
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Verified all 5 content section views render correctly with real data from explorer tree navigation</what-built>
  <how-to-verify>
    1. Start dev server: `pnpm dev` (port 3001)
    2. Sign in at http://localhost:3001
    3. Open an existing project that has extracted data (actors, use cases, etc.)
    4. Click "Product Requirements" in explorer tree -> see PRD Overview with accordion sections
    5. Click "System Overview" under Product Requirements -> see actors table, system boundaries, data entities
    6. Click "Tech Stack" -> see technology recommendations with rationale cards
    7. Click "Infrastructure" under Backend -> see hosting, CI/CD, monitoring details
    8. Click "Architecture Diagram" -> see rendered Mermaid diagram with entity information
    9. For any section WITHOUT data, verify empty state appears with "Start Conversation" CTA

    Expected: All sections render correctly with real data. Empty states show for sections without data.
  </how-to-verify>
  <resume-signal>Type "approved" or describe any rendering issues found</resume-signal>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` -- no compilation errors
2. `pnpm build` -- production build succeeds
3. All 5 route pages import correct section components
4. Nav-config hrefs match route paths exactly
5. Human verification of rendered output with real data
</verification>

<success_criteria>
- EXPL-03: PRD content visible in formatted accordion view
- EXPL-04: System Overview renders actors, boundaries, entities
- EXPL-05: Tech Stack shows technologies with rationale and alternatives
- EXPL-06: Infrastructure shows hosting, CI/CD, monitoring, environments
- EXPL-07: Architecture Diagram renders Mermaid diagram
- All views accessible via explorer tree navigation
</success_criteria>

<output>
After completion, create `.planning/phases/06-content-section-views-ux-polish/06-02-SUMMARY.md`
</output>
