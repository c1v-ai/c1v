@import "tailwindcss";
/*
  ---break---
*/
@custom-variant dark (&:is(.dark *));

@import "tw-animate-css";

@variant dark (&:is(.dark *));

@theme {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  --color-chart-1: hsl(var(--chart-1));
  --color-chart-2: hsl(var(--chart-2));
  --color-chart-3: hsl(var(--chart-3));
  --color-chart-4: hsl(var(--chart-4));
  --color-chart-5: hsl(var(--chart-5));

  --color-sidebar: hsl(var(--sidebar-background));
  --color-sidebar-foreground: hsl(var(--sidebar-foreground));
  --color-sidebar-primary: hsl(var(--sidebar-primary));
  --color-sidebar-primary-foreground: hsl(var(--sidebar-primary-foreground));
  --color-sidebar-accent: hsl(var(--sidebar-accent));
  --color-sidebar-accent-foreground: hsl(var(--sidebar-accent-foreground));
  --color-sidebar-border: hsl(var(--sidebar-border));
  --color-sidebar-ring: hsl(var(--sidebar-ring));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

@layer utilities {
  body {
    font-family: var(--font-body, Consolas, 'Roboto', sans-serif);
  }
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-heading, 'Space Grotesk', sans-serif);
    letter-spacing: -0.01em;
  }

  /* Hide scrollbar but keep scroll functionality */
  .scrollbar-hide {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
  }
}

@layer base {
  :root {
    /* Figma: Porcelain #FBFCFC */
    --background: 180 14.3% 98.6%;
    /* Figma: Text #0D0D0D */
    --foreground: 0 0% 5.1%;

    /* Figma: Pure White #FFFFFF */
    --card: 0 0% 100%;
    --card-foreground: 0 0% 5.1%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 5.1%;

    /* Figma: Tangerine #F18F01 */
    --primary: 35.5 99.2% 47.5%;
    --primary-foreground: 0 0% 100%;

    /* Figma: rgba(0,0,0,0.05) approx */
    --secondary: 0 0% 95%;
    --secondary-foreground: 0 0% 5.1%;

    /* Figma: rgba(0,0,0,0.05) approx */
    --muted: 0 0% 95%;
    /* Figma: rgba(13,13,13,0.6) approx */
    --muted-foreground: 0 0% 40%;

    /* Figma: Danube #5998C5 */
    --accent: 205 48.2% 56.1%;
    --accent-foreground: 0 0% 100%;

    /* Keep existing destructive red */
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 100%;

    /* Figma: rgba(13,13,13,0.15) approx */
    --border: 0 0% 88%;
    --input: 0 0% 88%;

    /* Figma: Tangerine for focus ring */
    --ring: 35.5 99.2% 47.5%;

    /* Chart colors from brand palette */
    --chart-1: 35.5 99.2% 47.5%;
    --chart-2: 205 48.2% 56.1%;
    --chart-3: 174.5 60% 10.8%;
    --chart-4: 0 0% 93.3%;
    --chart-5: 180 14.3% 98.6%;

    /* CRITICAL: Global radius = 12px */
    --radius: 0.75rem;

    /* Sidebar: mirror card tokens */
    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 0 0% 5.1%;
    --sidebar-primary: 35.5 99.2% 47.5%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 0 0% 95%;
    --sidebar-accent-foreground: 0 0% 5.1%;
    --sidebar-border: 0 0% 88%;
    --sidebar-ring: 35.5 99.2% 47.5%;
  }

  .dark {
    /* Figma: Firefly #0B2C29 */
    --background: 174.5 60% 10.8%;
    --foreground: 0 0% 100%;

    /* Figma: Firefly for cards in dark mode */
    --card: 174.5 60% 10.8%;
    --card-foreground: 0 0% 100%;

    --popover: 174.5 60% 10.8%;
    --popover-foreground: 0 0% 100%;

    /* Figma: Tangerine (same in dark) */
    --primary: 35.5 99.2% 47.5%;
    --primary-foreground: 0 0% 100%;

    /* Figma: rgba(255,255,255,0.15) approx */
    --secondary: 0 0% 20%;
    --secondary-foreground: 0 0% 100%;

    --muted: 0 0% 20%;
    /* Figma: rgba(255,255,255,0.6) approx */
    --muted-foreground: 0 0% 65%;

    /* Figma: Danube (same in dark) */
    --accent: 205 48.2% 56.1%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 100%;

    /* Figma: rgba(255,255,255,0.2) approx */
    --border: 0 0% 25%;
    --input: 0 0% 25%;

    --ring: 35.5 99.2% 47.5%;

    --chart-1: 35.5 99.2% 47.5%;
    --chart-2: 205 48.2% 56.1%;
    --chart-3: 180 14.3% 98.6%;
    --chart-4: 0 0% 93.3%;
    --chart-5: 174.5 60% 10.8%;

    /* Sidebar: mirror dark card tokens */
    --sidebar-background: 174.5 60% 10.8%;
    --sidebar-foreground: 0 0% 100%;
    --sidebar-primary: 35.5 99.2% 47.5%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 0 0% 20%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 0 0% 25%;
    --sidebar-ring: 35.5 99.2% 47.5%;
  }

  /* Figma typography scale -- mobile-first, desktop at md (768px) */
  h1 { font-size: 40px; line-height: 120%; }
  h2 { font-size: 36px; line-height: 120%; }
  h3 { font-size: 32px; line-height: 120%; }
  h4 { font-size: 24px; line-height: 130%; }
  h5 { font-size: 20px; line-height: 140%; }
  h6 { font-size: 18px; line-height: 140%; }

  @media (min-width: 768px) {
    h1 { font-size: 72px; }
    h2 { font-size: 52px; }
    h3 { font-size: 44px; }
    h4 { font-size: 36px; }
    h5 { font-size: 28px; }
    h6 { font-size: 22px; }
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Remove duplicate definitions - the first @layer base block (lines 96-167) handles theming */

/* Collapsible animations for radix-ui/react-collapsible */
@keyframes collapsible-down {
  from {
    height: 0;
    opacity: 0;
  }
  to {
    height: var(--radix-collapsible-content-height);
    opacity: 1;
  }
}

@keyframes collapsible-up {
  from {
    height: var(--radix-collapsible-content-height);
    opacity: 1;
  }
  to {
    height: 0;
    opacity: 0;
  }
}

/* Accordion animations for radix-ui/react-accordion */
@keyframes accordion-down {
  from {
    height: 0;
  }
  to {
    height: var(--radix-accordion-content-height);
  }
}

@keyframes accordion-up {
  from {
    height: var(--radix-accordion-content-height);
  }
  to {
    height: 0;
  }
}

@layer utilities {
  .animate-collapsible-down {
    animation: collapsible-down 200ms ease-out;
  }
  .animate-collapsible-up {
    animation: collapsible-up 200ms ease-out;
  }
  .animate-accordion-down {
    animation: accordion-down 200ms ease-out;
  }
  .animate-accordion-up {
    animation: accordion-up 200ms ease-out;
  }

  /* Mobile-first touch target utilities */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  .touch-target-sm {
    min-height: 36px;
    min-width: 36px;
  }

  .touch-target-lg {
    min-height: 48px;
    min-width: 48px;
  }

  /* Mobile-first spacing scale */
  .space-mobile {
    --space-xs: 0.25rem;  /* 4px */
    --space-sm: 0.5rem;   /* 8px */
    --space-md: 1rem;     /* 16px */
    --space-lg: 1.5rem;   /* 24px */
    --space-xl: 2rem;     /* 32px */
  }

  @media (min-width: 768px) {
    .space-mobile {
      --space-xs: 0.5rem;   /* 8px */
      --space-sm: 0.75rem;  /* 12px */
      --space-md: 1.25rem;  /* 20px */
      --space-lg: 2rem;     /* 32px */
      --space-xl: 3rem;     /* 48px */
    }
  }

  /* Safe area padding utilities (iOS) */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-right {
    padding-right: env(safe-area-inset-right);
  }

  .safe-x {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  .safe-y {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-all {
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  }

  /* Chat footer padding - combines visual padding + BottomNav clearance + safe area */
  .chat-footer-safe {
    /* Mobile: 16px visual + 64px nav + safe area */
    padding-bottom: calc(16px + 64px + env(safe-area-inset-bottom));
  }

  @media (min-width: 768px) {
    .chat-footer-safe {
      /* Desktop: 32px visual only (no BottomNav) */
      padding-bottom: 32px;
    }
  }

  /* Mobile typography scale */
  .text-mobile-base {
    font-size: 16px; /* Prevents iOS zoom on focus */
    line-height: 1.5;
  }

  .text-mobile-sm {
    font-size: 14px;
    line-height: 1.4;
  }

  .text-mobile-lg {
    font-size: 18px;
    line-height: 1.5;
  }

  /* Prevent text selection on interactive elements */
  .no-select {
    -webkit-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
  }

  /* Improve tap highlight */
  .tap-highlight-none {
    -webkit-tap-highlight-color: transparent;
  }
}
